<!doctype html>
<html lang="en">

<head>
  <style>
    .custom-toggler.navbar-toggler {
      border-color: rgb(255, 255, 255);
    }
  </style>
  <style type="text/css">
    /* ============ desktop view ============ */
    @media all and (min-width: 992px) {

      .dropdown-menu li {
        position: relative;
      }

      .dropdown-menu .submenu {
        display: none;
        position: absolute;
        left: 100%;
        top: -7px;
      }

      .dropdown-menu .submenu-left {
        right: 100%;
        left: auto;
      }

      .dropdown-menu>li:hover {
        background-color: #f1f1f1
      }

      .dropdown-menu>li:hover>.submenu {
        display: block;
      }
    }

    /* ============ desktop view .end// ============ */

    /* ============ small devices ============ */
    @media (max-width: 991px) {

      .dropdown-menu .dropdown-menu {
        margin-left: 0.7rem;
        margin-right: 0.7rem;
        margin-bottom: .5rem;
      }

    }

    /* ============ small devices .end// ============ */
  </style>
  <style>
    /* Set the border color */

    .custom-toggler.navbar-toggler {
      border-color: rgb(255, 255, 255);
    }

    /* Setting the stroke to green using rgb values (0, 128, 0) */

    .custom-toggler .navbar-toggler-icon {
      background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(0, 128, 0, 0.8)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E");
    }
  </style>
  {% load static %}
  <style media="screen">
    nav {
      color: white;
    }
  </style>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Excella Solutions</title>
</head>

<body align="left" style="align:left;">
  <div class="">
    <div class="row">

    </div>
  </div>



  <nav class="navbar navbar-expand-lg" style="color:white;background-color:black;
    ">
    <div class="container-fluid" style="color:white;">
      <a href="/"><img src="{% static 'img/lavn_techwfw.png' %}" class="img-fluid" alt="Responsive image"
          width="200px"></a>


      {% if user.is_superuser %}
      <a class="navbar-brand btn bi-house text-white" href="/dashboard"> Dashboard</a>
      {% endif %}

      {% if user.is_authenticated %}








      {% comment %} {% endcomment %}
      {% endif %}



      {% if user.is_authenticated %}



      {% if user.is_authenticated %}

      <div class="n" id="main_nav">
        <ul class="navbar-nav">

          <li class="nav-item dropdown" id="myDropdown">
            <a id="mastersDropdown" class="nav-link dropdown-toggle navbar-brand btn text-white" href="#"
              data-bs-toggle="dropdown"> e-Support </a>
            <ul class="dropdown-menu">
              <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> Requests </a></li>
              {% comment %} <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> Hardware Support </a>
              </li>
              <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> Attendance Request </a></li>
              <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> etc </a></li> {% endcomment %}
          </li>
        </ul>
        </li>
        </ul>
      </div>
      <br>
      <div class="" id="main_nav">
        <ul class="navbar-nav">
          <li class="nav-item dropdown" id="myDropdown">
            <a id="mastersDropdown" class="nav-link dropdown-toggle navbar-brand btn text-white" href="#"
              data-bs-toggle="dropdown"> Attendance </a>
            <ul class="dropdown-menu">
              <li> <a class="dropdown-item" href="/check_in/check_in/"> Check-in </a></li>
              <li> <a class="dropdown-item" href="/check_in/check_in_data/"> Check-in Data </a></li>
              <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> Attendance Request </a></li>
              <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> Holiday List </a></li>
              <li> <a class="dropdown-item" href="/soft_issue/view_soft_issue/"> etc </a></li>
          </li>
        </ul>
        </li>
        </ul>
      </div>





      {% if add_permission %}{% endif %}







      {% endif %}

      {% endif %}

      <button class="navbar-toggler text-white ml-auto custom-toggler m-1" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon text-white" style="border-color: white;color:white;"></span>
      </button>
      <div class="collapse navbar-collapse text-white" id="navbarSupportedContent" style="width:400px;">

        <ul class="navbar-nav me-auto mb-2 mb-lg-0 text-white">


        </ul>

        {% if user.is_authenticated %}



        <div class="" style="padding-right:50px;">
          <ul class="navbar-nav me-auto">
            <li class="nav-item dropdown">
              {% comment %} <a class="nav-link dropdown-toggle bi bi-person-circle  text-white" href="#" role="button"
                data-bs-toggle="dropdown" aria-expanded="false" style="font-size:20px ; color: black;">
                {{user}}
              </a> {% endcomment %}
              <a class="nav-link dropdown-toggle bi bi-person-circle text-white" href="#" role="button"
                data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 20px; color: black;">
                {{ request.user }}
              </a>

              <ul class="dropdown-menu">

                <a class="dropdown-item navbar-brand bi bi-person-circle" href="/user_profile/{{request.user.id}}">
                  Profile</a>

                {% if user.is_superuser %}
                <a class="dropdown-item navbar-brand bi bi-bricks" href="/super_users"> Super Users </a>
                <a class="dropdown-item navbar-brand bi bi-mouse" href="/active_users"> End Users </a>
                <a class="dropdown-item navbar-brand bi bi-floppy" href="/backup"> Backup </a>
                {% endif %}

                {% if change_permission %}

                {% endif %}
                <a class="dropdown-item navbar-brand bi bi-box-arrow-right" href="{% url 'logout' %}"> Logout</a>


              </ul>
            </li>
          </ul>
        </div>






        {% else %}
        <div class="width:200px;">
          <!--            <a class="navbar-brand btn bi bi-house bi bi-person-circle text-white" href="/accounts/login/?next=/"> Login</a>
-->

          <!--
                <a class="navbar-brand btn bi bi-house bi bi-person-circle text-white" href="{% url 'loginadmin' %}"> Admin Login</a>
    -->

          <a class="navbar-brand btn bi bi-house bi bi-person-circle text-white" href="{% url 'login' %}"> Login</a>

          <a class="navbar-brand btn bi bi-house bi bi-journal-check text-white" href="{% url 'register_user' %}">
            Signup</a>


          {% endif %}

        </div>
      </div>

    </div>
  </nav>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>

  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
  <script>

    document.addEventListener("DOMContentLoaded", function () {
      // make it as accordion for smaller screens
      if (window.innerWidth < 992) {

        // close all inner dropdowns when parent is closed
        document.querySelectorAll('.navbar .dropdown').forEach(function (everydropdown) {
          everydropdown.addEventListener('hidden.bs.dropdown', function () {
            // after dropdown is hidden, then find all submenus
            this.querySelectorAll('.submenu').forEach(function (everysubmenu) {
              // hide every submenu as well
              everysubmenu.style.display = 'none';
            });
          })
        });

        document.querySelectorAll('.dropdown-menu a').forEach(function (element) {
          element.addEventListener('click', function (e) {
            let nextEl = this.nextElementSibling;
            if (nextEl && nextEl.classList.contains('submenu')) {
              // prevent opening link if link needs to open dropdown
              e.preventDefault();
              if (nextEl.style.display == 'block') {
                nextEl.style.display = 'none';
              } else {
                nextEl.style.display = 'block';
              }

            }
          });
        })
      }
      // end if innerWidth
    }); 
  </script>
</body>

</html>


{% comment %} --------JS CODE SHORTCUT KEY----------- {% endcomment %}
<script src="{% static '/statc/js/shortcuts_code.jquery.com_jquery-3.6.0.min.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% comment %}
<script>
  $(document).keydown(function (e) {
    if (e.ctrlKey) {
      // Check for Ctrl key shortcuts
      switch (e.altKey) {

      }
    } else if (e.altKey) {
      // Check for Alt key shortcuts
      switch (e.keyCode) {
        case 65:
          // Redirect to "add_city" when Alt + C is pressed
          window.location.href = "/masters/main_masters/city_master/";
          break;
        case 71:
          // Redirect to "view_city_grid" when Ctrl + G is pressed
          window.location.href = "/masters/main_masters/city_master/view_city_grid";
          break;
        case 77:
          // Redirect to "view_city" when Ctrl + M is pressed
          window.location.href = "/masters/main_masters/soft_issue/view_soft_issue";
          break;
        case 88:
          // Redirect to "export-cities-to-excel" when Ctrl + X is pressed
          window.location.href = "/masters/main_masters/city_master/export-cities-to-excel";
          break;
        case 80:
          // Redirect to "export_city_pdf" when Ctrl + P is pressed
          window.location.href = "/masters/main_masters/city_master/export_city_pdf";
          break;
        case 68:
          // Redirect to "export_city_pdf" when D is pressed
          window.location.href = "/masters/main_masters/city_master/deleted_city/";
          break;


        // Add more Alt key shortcuts here as needed
      }
    }
  });
</script> {% endcomment %}
{% comment %} ---- KEYS DEFINED {% endcomment %}
<script src="{% static '/static/js/citymaster/shortcuts.js' %}"></script>


<script>
  document.addEventListener("keydown", function (event) {
    // Check if the key combination is "Alt + M"
    if (event.altKey && event.key === "m") {
      // Trigger a click event on the "Masters" dropdown
      var mastersDropdown = document.getElementById("mastersDropdown");
      if (mastersDropdown) {
        mastersDropdown.click();
      }
    }
  });
</script>